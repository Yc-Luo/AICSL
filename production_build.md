AICSL_main/
â”œâ”€â”€ docker-compose.production.yml    â­ ç”Ÿäº§ç¯å¢ƒç¼–æ’é…ç½®
â”œâ”€â”€ .env.production.example          â­ ç¯å¢ƒå˜é‡æ¨¡æ¿
â”œâ”€â”€ PRODUCTION_DEPLOYMENT.md         â­ å®Œæ•´éƒ¨ç½²æŒ‡å—
â”œâ”€â”€ nginx/
â”‚   â”œâ”€â”€ nginx.production.conf        â­ ç”Ÿäº§ Nginx é…ç½® (HTTPS)
â”‚   â”œâ”€â”€ ssl/                         ğŸ“ SSL è¯ä¹¦ç›®å½•
â”‚   â””â”€â”€ logs/                        ğŸ“ Nginx æ—¥å¿—ç›®å½•
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ deploy.sh                    â­ ä¸€ç«™å¼éƒ¨ç½²è„šæœ¬
â”‚   â”œâ”€â”€ backup.sh                    â­ è‡ªåŠ¨å¤‡ä»½è„šæœ¬
â”‚   â””â”€â”€ mongo-init.js                â­ æ•°æ®åº“åˆå§‹åŒ–è„šæœ¬
â””â”€â”€ backups/                         ğŸ“ å¤‡ä»½å­˜å‚¨ç›®å½•



# 1. åˆ›å»ºé…ç½®æ–‡ä»¶
cp .env.production.example .env.production

# 2. ç”Ÿæˆå®‰å…¨å¯†é’¥
echo "JWT_SECRET_KEY=$(openssl rand -hex 32)"
echo "SECRET_KEY=$(openssl rand -hex 32)"

# 3. ç¼–è¾‘é…ç½®æ–‡ä»¶ï¼Œå¡«å…¥æ‰€æœ‰å€¼
nano .env.production

# 4. é¦–æ¬¡è®¾ç½®ï¼ˆåˆ›å»ºç›®å½•å’Œè‡ªç­¾åè¯ä¹¦ï¼‰
chmod +x ./scripts/deploy.sh
./scripts/deploy.sh setup

# 5. éƒ¨ç½²åº”ç”¨
./scripts/deploy.sh deploy

# 6. æ£€æŸ¥çŠ¶æ€
./scripts/deploy.sh health




ç›¸å…³æ–‡æ¡£
å®Œæ•´éƒ¨ç½²æŒ‡å—: 
PRODUCTION_DEPLOYMENT.md
ç¯å¢ƒå˜é‡è¯´æ˜: 
.env.production.example
è¿›å±•è®°å½•: 
Docs/progress_report_20260110.md





éƒ¨ç½²å‘½ä»¤
# 1. é…ç½®ç¯å¢ƒå˜é‡
cp .env.production.example .env.production
# ç¼–è¾‘ .env.production å¡«å†™å®é™…å€¼

# 2. éƒ¨ç½²
docker-compose -f docker-compose.production.yml --env-file .env.production up -d --build




# =============================================================================
# åŸºç¡€é…ç½®
# =============================================================================
# æ‚¨çš„åŸŸåï¼ˆä¸å¸¦ https://ï¼‰
DOMAIN_NAME=your-domain.com

# =============================================================================
# å®‰å…¨å¯†é’¥ï¼ˆå¿…é¡»ä¿®æ”¹ï¼ï¼‰
# ç”Ÿæˆæ–¹æ³•ï¼šopenssl rand -hex 32
# =============================================================================
JWT_SECRET_KEY=<ç”Ÿæˆä¸€ä¸ª64å­—ç¬¦çš„éšæœºå­—ç¬¦ä¸²>
SECRET_KEY=<ç”Ÿæˆå¦ä¸€ä¸ª64å­—ç¬¦çš„éšæœºå­—ç¬¦ä¸²>

# =============================================================================
# MongoDB é…ç½®
# =============================================================================
MONGO_ROOT_PASSWORD=<è®¾ç½®ä¸€ä¸ªå¼ºå¯†ç >
MONGO_APP_PASSWORD=<è®¾ç½®å¦ä¸€ä¸ªå¼ºå¯†ç >

# =============================================================================
# Redis é…ç½®
# =============================================================================
REDIS_PASSWORD=<è®¾ç½®Rediså¯†ç >

# =============================================================================
# MinIO é…ç½®
# =============================================================================
MINIO_ROOT_PASSWORD=<è®¾ç½®MinIOå¯†ç ï¼Œè‡³å°‘8ä½>

# =============================================================================
# AI é…ç½®ï¼ˆæ‚¨çš„API Keyï¼‰
# =============================================================================
LLM_PROVIDER=deepseek
DEEPSEEK_API_KEY=sk-xxxxxxxxxxxxxxxx

# æˆ–è€…ä½¿ç”¨ OpenAI
# LLM_PROVIDER=openai
# OPENAI_API_KEY=sk-xxxxxxxxxxxxxxxx




# ç”Ÿæˆ JWT_SECRET_KEY
openssl rand -hex 32

# ç”Ÿæˆ SECRET_KEYï¼ˆå†è¿è¡Œä¸€æ¬¡ï¼‰
openssl rand -hex 32


